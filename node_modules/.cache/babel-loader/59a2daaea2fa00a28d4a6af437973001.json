{"ast":null,"code":"import _styled from \"styled-components\";\n\nvar _jsxFileName = \"D:\\\\Bank Management POD1\\\\frontend\\\\src\\\\Components\\\\User\\\\AccountBalance.js\",\n    _s = $RefreshSig$();\n\nimport Card from 'react-bootstrap/Card';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, Outlet } from 'react-router-dom';\nimport NavbarComp from '../Navbar/NavbarComp';\nimport { createAxios, getTokenFromLocalStorage } from '../../Hooks/UseAxios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Container = _styled.section.withConfig({\n  displayName: \"AccountBalance__Container\",\n  componentId: \"sc-1nziu8f-0\"\n})([\"max-width:1000px;margin:0 auto;padding-top:5rem;box-sizing:border-box;\"]);\n\n_c = Container;\nexport default function UserDashboard() {\n  _s();\n\n  var _parsedUser$user, _parsedUser$user$role;\n\n  const navigate = useNavigate();\n  const token = getTokenFromLocalStorage();\n  const [amountBalance, setAmountbalance] = useState(0); //check user role\n\n  const user = localStorage.getItem('user');\n  const parsedUser = JSON.parse(user);\n  const userRole = parsedUser === null || parsedUser === void 0 ? void 0 : (_parsedUser$user = parsedUser.user) === null || _parsedUser$user === void 0 ? void 0 : (_parsedUser$user$role = _parsedUser$user.role[0]) === null || _parsedUser$user$role === void 0 ? void 0 : _parsedUser$user$role.roleName;\n  useEffect(() => {\n    if (!user || userRole !== 'User') {\n      navigate('/');\n    }\n  }, [userRole]);\n\n  const fetchAdminData = async () => {\n    var _parsedUser$user2;\n\n    const token = parsedUser.jwtToken; // console.log(token)\n\n    const username = parsedUser === null || parsedUser === void 0 ? void 0 : (_parsedUser$user2 = parsedUser.user) === null || _parsedUser$user2 === void 0 ? void 0 : _parsedUser$user2.userName;\n    const apiUrl = 'http://localhost:8080';\n    const authAxios = createAxios(apiUrl, token);\n    const data = await authAxios.get(`/returnBalance/${username}`);\n    setAmountbalance(data === null || data === void 0 ? void 0 : data.data); // console.log(username,data.data)\n  };\n\n  useEffect(() => {\n    if (user && userRole === 'User') fetchAdminData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavbarComp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            style: {\n              fontWeight: '600',\n              fontSize: '2rem',\n              paddingBottom: '1rem'\n            },\n            children: \"Account Balance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            style: {\n              fontWeight: '500'\n            },\n            children: [\"Your account balance is\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                textDecoration: 'underline'\n              },\n              children: [\"Rs \", amountBalance]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(UserDashboard, \"zl9P36YQXf3AmEN5cbH0Mv7GTPs=\", false, function () {\n  return [useNavigate];\n});\n\n_c2 = UserDashboard;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"UserDashboard\");","map":{"version":3,"names":["Card","React","useEffect","useState","useNavigate","Outlet","NavbarComp","createAxios","getTokenFromLocalStorage","Container","styled","section","UserDashboard","navigate","token","amountBalance","setAmountbalance","user","localStorage","getItem","parsedUser","JSON","parse","userRole","role","roleName","fetchAdminData","jwtToken","username","userName","apiUrl","authAxios","data","get","fontWeight","fontSize","paddingBottom","textDecoration"],"sources":["D:/Bank Management POD1/frontend/src/Components/User/AccountBalance.js"],"sourcesContent":["import Card from 'react-bootstrap/Card'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useNavigate, Outlet } from 'react-router-dom'\r\nimport NavbarComp from '../Navbar/NavbarComp'\r\nimport styled from 'styled-components/macro'\r\nimport { createAxios, getTokenFromLocalStorage } from '../../Hooks/UseAxios'\r\n\r\nconst Container = styled.section`\r\n  /* border: 1px solid olive; */\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  padding-top: 5rem;\r\n  box-sizing: border-box;\r\n`\r\n\r\nexport default function UserDashboard() {\r\n  const navigate = useNavigate()\r\n  const token = getTokenFromLocalStorage()\r\n  const [amountBalance, setAmountbalance] = useState(0)\r\n\r\n  //check user role\r\n  const user = localStorage.getItem('user')\r\n  const parsedUser = JSON.parse(user)\r\n  const userRole = parsedUser?.user?.role[0]?.roleName\r\n  useEffect(() => {\r\n    if (!user || userRole !== 'User') {\r\n      navigate('/')\r\n    }\r\n  }, [userRole])\r\n\r\n  const fetchAdminData = async () => {\r\n    const token = parsedUser.jwtToken\r\n    // console.log(token)\r\n    const username = parsedUser?.user?.userName\r\n    const apiUrl = 'http://localhost:8080'\r\n    const authAxios = createAxios(apiUrl, token)\r\n\r\n    const data = await authAxios.get(`/returnBalance/${username}`)\r\n    setAmountbalance(data?.data)\r\n    // console.log(username,data.data)\r\n  }\r\n  useEffect(() => {\r\n    if (user && userRole === 'User') fetchAdminData()\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <NavbarComp />\r\n      <Container>\r\n        <Card className='text-center'>\r\n          <Card.Body>\r\n            <Card.Title style={{fontWeight:'600', fontSize:'2rem', paddingBottom:'1rem'}}>Account Balance</Card.Title>\r\n            <Card.Text style={{fontWeight:'500'}}>\r\n              Your account balance is{' '}\r\n              <span style={{ textDecoration: 'underline' }}>\r\n                Rs {amountBalance}\r\n              </span>\r\n            </Card.Text>\r\n          </Card.Body>\r\n        </Card>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":";;;;;AAAA,OAAOA,IAAP,MAAiB,sBAAjB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,MAAtB,QAAoC,kBAApC;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AAEA,SAASC,WAAT,EAAsBC,wBAAtB,QAAsD,sBAAtD;;;;AAEA,MAAMC,SAAS,GAAGC,OAAM,CAACC,OAAV;EAAA;EAAA;AAAA,8EAAf;;KAAMF,S;AAQN,eAAe,SAASG,aAAT,GAAyB;EAAA;;EAAA;;EACtC,MAAMC,QAAQ,GAAGT,WAAW,EAA5B;EACA,MAAMU,KAAK,GAAGN,wBAAwB,EAAtC;EACA,MAAM,CAACO,aAAD,EAAgBC,gBAAhB,IAAoCb,QAAQ,CAAC,CAAD,CAAlD,CAHsC,CAKtC;;EACA,MAAMc,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;EACA,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAnB;EACA,MAAMM,QAAQ,GAAGH,UAAH,aAAGA,UAAH,2CAAGA,UAAU,CAAEH,IAAf,8EAAG,iBAAkBO,IAAlB,CAAuB,CAAvB,CAAH,0DAAG,sBAA2BC,QAA5C;EACAvB,SAAS,CAAC,MAAM;IACd,IAAI,CAACe,IAAD,IAASM,QAAQ,KAAK,MAA1B,EAAkC;MAChCV,QAAQ,CAAC,GAAD,CAAR;IACD;EACF,CAJQ,EAIN,CAACU,QAAD,CAJM,CAAT;;EAMA,MAAMG,cAAc,GAAG,YAAY;IAAA;;IACjC,MAAMZ,KAAK,GAAGM,UAAU,CAACO,QAAzB,CADiC,CAEjC;;IACA,MAAMC,QAAQ,GAAGR,UAAH,aAAGA,UAAH,4CAAGA,UAAU,CAAEH,IAAf,sDAAG,kBAAkBY,QAAnC;IACA,MAAMC,MAAM,GAAG,uBAAf;IACA,MAAMC,SAAS,GAAGxB,WAAW,CAACuB,MAAD,EAAShB,KAAT,CAA7B;IAEA,MAAMkB,IAAI,GAAG,MAAMD,SAAS,CAACE,GAAV,CAAe,kBAAiBL,QAAS,EAAzC,CAAnB;IACAZ,gBAAgB,CAACgB,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEA,IAAP,CAAhB,CARiC,CASjC;EACD,CAVD;;EAWA9B,SAAS,CAAC,MAAM;IACd,IAAIe,IAAI,IAAIM,QAAQ,KAAK,MAAzB,EAAiCG,cAAc;EAChD,CAFQ,EAEN,EAFM,CAAT;EAIA,oBACE;IAAA,wBACE,QAAC,UAAD;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,SAAD;MAAA,uBACE,QAAC,IAAD;QAAM,SAAS,EAAC,aAAhB;QAAA,uBACE,QAAC,IAAD,CAAM,IAAN;UAAA,wBACE,QAAC,IAAD,CAAM,KAAN;YAAY,KAAK,EAAE;cAACQ,UAAU,EAAC,KAAZ;cAAmBC,QAAQ,EAAC,MAA5B;cAAoCC,aAAa,EAAC;YAAlD,CAAnB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAEE,QAAC,IAAD,CAAM,IAAN;YAAW,KAAK,EAAE;cAACF,UAAU,EAAC;YAAZ,CAAlB;YAAA,sCAC0B,GAD1B,eAEE;cAAM,KAAK,EAAE;gBAAEG,cAAc,EAAE;cAAlB,CAAb;cAAA,kBACMtB,aADN;YAAA;cAAA;cAAA;cAAA;YAAA,QAFF;UAAA;YAAA;YAAA;YAAA;UAAA,QAFF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA,gBADF;AAkBD;;GAhDuBH,a;UACLR,W;;;MADKQ,a"},"metadata":{},"sourceType":"module"}